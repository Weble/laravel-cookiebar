(()=>{"use strict";function e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t(e){var t=e.charAt(e.length-1),n=parseInt(e,10),o=new Date;switch(t){case"Y":o.setFullYear(o.getFullYear()+n);break;case"M":o.setMonth(o.getMonth()+n);break;case"D":o.setDate(o.getDate()+n);break;case"h":o.setHours(o.getHours()+n);break;case"m":o.setMinutes(o.getMinutes()+n);break;case"s":o.setSeconds(o.getSeconds()+n);break;default:o=new Date(e)}return o}function n(e,t){if(void 0===t&&(t=decodeURIComponent),"string"!=typeof e||!e)return null;var n=new RegExp("(?:^|; )"+(e.replace(/[.*+?^$|[\](){}\\-]/g,"\\$&")+"(?:=([^;]*))?(?:;|$)")).exec(document.cookie);return null===n?null:"function"==typeof t?t(n[1]):n[1]}function o(n,o,a,c){void 0===a&&(a=encodeURIComponent),"object"==typeof a&&null!==a&&(c=a,a=encodeURIComponent);var i=function(n){var o="";for(var a in n)if(e(n,a))if(/^expires$/i.test(a)){var c=n[a];"object"!=typeof c&&(c=t(c+="number"==typeof c?"D":"")),o+=";"+a+"="+c.toUTCString()}else/^secure$/.test(a)?n[a]&&(o+=";"+a):o+=";"+a+"="+n[a];return e(n,"path")||(o+=";path=/"),o}(c||{}),r=n+"="+("function"==typeof a?a(o):o)+i;document.cookie=r}function a(e,t){return e.classList.contains(t)}function c(e,t){var n=document.querySelectorAll(e);n.length<=0||n.forEach((function(e){return e.addEventListener("click",t)}))}function i(e){e&&(e.style.display="none")}function r(e){return Object.assign(this.config,e),this}function s(){if(window.dataLayer=window.dataLayer||[],"undefined"==typeof gtag){window.gtag=window.gtag||function(){dataLayer.push(arguments)}}var e=JSON.parse(n(this.config.cookieName));return e?(Object.assign(this.config.gtag_consent,e),this):this}function u(){var e=this;return c('[data-cookiebar="update-consent"]',(function(t){return function(e,t){var n=e.target,c=t.gtag_consent;a(n,"js-cookiebar-agree")&&Object.keys(c).forEach((function(e){c[e]="granted"}));a(n,"js-cookiebar-dismiss")&&Object.keys(c).forEach((function(e){c[e]="danied"}));a(n,"js-cookiebar-custom")&&Object.keys(c).forEach((function(e){var t,n=document.getElementById(e);n?(n.checked&&(c[e]="granted"),n.checked||(c[e]="denied")):c[e]=null!==(t=c[e].value)&&void 0!==t?t:"denied"}));!function(e){if(!e)return;var t=e.cookieName,n=e.expirationInDays,a=e.gtag_consent;o(t,JSON.stringify(a),{expires:n}),gtag("consent","update",a),dataLayer.push({event:"cookie_advanced_consent_updated"}),dataLayer.push({event:"gtm.init_consent"}),i(document.getElementById("cookiebar-banner")),i(document.getElementById("cookiebar-modal"))}(t)}(t,e.config)})),c('[data-cookiebar="modal-show"]',(function(){return d(e.config)})),c('[data-cookiebar="modal-hide"]',(function(){return i(document.getElementById("cookiebar-modal"))})),this}function d(e){if(e=e||this.config){var t,n=e.gtag_consent;if(n)Object.keys(n).forEach((function(e){var t=document.getElementById(e);t&&(t.checked="granted"===n[e])})),(t=document.getElementById("cookiebar-modal"))&&(t.style.display="block")}}window.gtmCookieBar={config:{cookieName:"_cookieAdvancedAllowed",expirationInDays:365,gtag_consent:{}},configure:r,init:s,setupTemplate:u,editConsents:d}})();